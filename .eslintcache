[{"C:\\Users\\hn156\\Desktop\\AppWorks\\personal project\\Pick Up\\src\\App.js":"1","C:\\Users\\hn156\\Desktop\\AppWorks\\personal project\\Pick Up\\src\\components\\EventForm.js":"2","C:\\Users\\hn156\\Desktop\\AppWorks\\personal project\\Pick Up\\src\\components\\JoinForm.js":"3","C:\\Users\\hn156\\Desktop\\AppWorks\\personal project\\Pick Up\\src\\components\\Firebase.js":"4","C:\\Users\\hn156\\Desktop\\AppWorks\\personal project\\Pick Up\\src\\index.js":"5","C:\\Users\\hn156\\Desktop\\AppWorks\\personal project\\Pick Up\\src\\components\\Maps.js":"6","C:\\Users\\hn156\\Desktop\\AppWorks\\personal project\\Pick Up\\src\\components\\EventPage.js":"7","C:\\Users\\hn156\\Desktop\\AppWorks\\personal project\\Pick Up\\src\\components\\MapStyles.js":"8","C:\\Users\\hn156\\Desktop\\AppWorks\\personal project\\Pick Up\\src\\reportWebVitals.js":"9","C:\\Users\\hn156\\Desktop\\AppWorks\\personal project\\Pick Up\\src\\components\\HomePage.js":"10","C:\\Users\\hn156\\Desktop\\AppWorks\\personal project\\Pick Up\\src\\components\\TimeSelector.js":"11","C:\\Users\\hn156\\Desktop\\AppWorks\\personal project\\Pick Up\\src\\components\\ProfilePage.js":"12","C:\\Users\\hn156\\Desktop\\AppWorks\\personal project\\Pick Up\\src\\components\\ResultForm.js":"13","C:\\Users\\hn156\\Desktop\\AppWorks\\personal project\\Pick Up\\src\\components\\DatePickerPage.js":"14","C:\\Users\\hn156\\Desktop\\AppWorks\\personal project\\Pick Up\\src\\components\\EventNPC.js":"15"},{"size":3193,"mtime":1608081143675,"results":"16","hashOfConfig":"17"},{"size":6972,"mtime":1608137125289,"results":"18","hashOfConfig":"17"},{"size":2977,"mtime":1607911240792,"results":"19","hashOfConfig":"17"},{"size":10570,"mtime":1608115507598,"results":"20","hashOfConfig":"17"},{"size":639,"mtime":1607333052722,"results":"21","hashOfConfig":"17"},{"size":8757,"mtime":1608113091214,"results":"22","hashOfConfig":"17"},{"size":665,"mtime":1608091206958,"results":"23","hashOfConfig":"17"},{"size":5888,"mtime":1607333052524,"results":"24","hashOfConfig":"17"},{"size":362,"mtime":499162500000,"results":"25","hashOfConfig":"17"},{"size":6781,"mtime":1607996869381,"results":"26","hashOfConfig":"17"},{"size":1659,"mtime":1607064025824,"results":"27","hashOfConfig":"28"},{"size":9656,"mtime":1608137955263,"results":"29","hashOfConfig":"17"},{"size":10430,"mtime":1607926371858,"results":"30","hashOfConfig":"17"},{"size":1540,"mtime":1608024522523,"results":"31","hashOfConfig":"17"},{"size":2674,"mtime":1608104274028,"results":"32","hashOfConfig":"17"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},"9v89m",{"filePath":"36","messages":"37","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"35"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1uu4gbt",{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"35"},"C:\\Users\\hn156\\Desktop\\AppWorks\\personal project\\Pick Up\\src\\App.js",[],["67","68"],"C:\\Users\\hn156\\Desktop\\AppWorks\\personal project\\Pick Up\\src\\components\\EventForm.js",["69","70"],"C:\\Users\\hn156\\Desktop\\AppWorks\\personal project\\Pick Up\\src\\components\\JoinForm.js",[],"C:\\Users\\hn156\\Desktop\\AppWorks\\personal project\\Pick Up\\src\\components\\Firebase.js",[],"C:\\Users\\hn156\\Desktop\\AppWorks\\personal project\\Pick Up\\src\\index.js",[],"C:\\Users\\hn156\\Desktop\\AppWorks\\personal project\\Pick Up\\src\\components\\Maps.js",["71"],"import React, { useEffect, useState, useCallback } from 'react'\r\nimport { showEvent } from './Firebase'\r\nimport styles from '../scss/Map.module.scss'\r\nimport MapStyles from './MapStyles'\r\nimport { GoogleMap, useLoadScript, Marker, InfoWindow } from '@react-google-maps/api'\r\n// import { Data } from '@react-google-maps/api'\r\nimport Swal from 'sweetalert2'\r\nimport { JoinForm } from './JoinForm'\r\nimport { EventForm } from './EventForm'\r\nimport { Button } from 'react-bootstrap'\r\n\r\nconst libraries = ['places']\r\nconst mapContainerStyle = {\r\n  width: '100%',\r\n  height: '100%',\r\n}\r\nconst center = {\r\n  lat: 23.79794304425684,\r\n  lng: 120.92169897361532,\r\n}\r\n\r\nconst options = {\r\n  styles: MapStyles,\r\n  disableDefaultUI: true,\r\n  zoomControl: true,\r\n  mapTypeControl: true,\r\n}\r\n\r\nexport function Maps(props) {\r\n  console.log(props)\r\n  //抓開/跟團指示的對話框以及事件資訊id\r\n  let eventStep1 = document.getElementById('eventStep1')\r\n  let eventStep2 = document.getElementById('eventStep2')\r\n  let eventInfo = document.getElementById('eventInfo')\r\n  const { isLoaded, loadError } = useLoadScript({\r\n    googleMapsApiKey: `AIzaSyAhDv35adlrxazUwPtZvjU7NE3RAaq3piQ`,\r\n    libraries,\r\n  })\r\n  //render畫面用\r\n  const [events, setEvents] = useState([])\r\n\r\n  useEffect(() => {\r\n    showEvent(setEvents)\r\n  }, [])\r\n\r\n  console.log(events)\r\n  //render markers\r\n  // eslint-disable-next-line no-unused-vars\r\n  const [markers, setMarkers] = useState([])\r\n  //click to choose new location\r\n  const [newMarker, setNewMarker] = useState([])\r\n  let allMarkers = []\r\n  events.forEach((event) => {\r\n    allMarkers.push({\r\n      eventId: event.eventId,\r\n      title: event.title,\r\n      hostName: event.hostName,\r\n      email: event.email,\r\n      phone: event.phone,\r\n      startTime: event.startTime,\r\n      endTime: event.endTime,\r\n      memberLimit: event.memberLimit,\r\n      members: event.members,\r\n      lat: event.lat,\r\n      lng: event.lng,\r\n      time: event.startTime,\r\n      status: event.status,\r\n    })\r\n  })\r\n  console.log(markers)\r\n\r\n  const onMapClick = useCallback((event) => {\r\n    //抓開/跟團指示的對話框以及事件資訊id\r\n    let eventStep1 = document.getElementById('eventStep1')\r\n    let eventStep2 = document.getElementById('eventStep2')\r\n    let eventInfo = document.getElementById('eventInfo')\r\n    if (props.uid) {\r\n      setNewMarker(() => [\r\n        {\r\n          lat: event.latLng.lat(),\r\n          lng: event.latLng.lng(),\r\n          time: new Date().getTime(),\r\n        },\r\n      ])\r\n      //開啟開團教學框\r\n      eventStep1.style.display = 'block'\r\n      eventStep2.style.display = 'none'\r\n      eventInfo.style.display = 'none'\r\n      //清除\"我要跟團\"InfoBox\r\n      setSelected1(null)\r\n      //清除\"我要開團\"InfoBox\r\n      setSelected2(null)\r\n    } else {\r\n      setNewMarker([])\r\n    }\r\n  }, [])\r\n\r\n  const [selected1, setSelected1] = useState(null)\r\n  const [selected2, setSelected2] = useState(null)\r\n\r\n  if (loadError) return 'Error loading maps'\r\n  if (!isLoaded) return 'Loading Maps'\r\n  //Show the data of marker\r\n  function ShowMarkerData(obj) {\r\n    console.log(obj)\r\n    //抓日期\r\n    let startTimeObj = new Date(obj?.startTime)\r\n    let endTimeObj = new Date(obj?.endTime)\r\n    let weekdays = '星期日,星期一,星期二,星期三,星期四,星期五,星期六'.split(',')\r\n    // 抓時間\r\n    let startTimePart = startTimeObj.toTimeString().split(':')\r\n    let endTimePart = endTimeObj.toTimeString().split(':')\r\n\r\n    let infoTitle = document.getElementById('infoTitle')\r\n    let infoHost = document.getElementById('infoHost')\r\n    let infoEmail = document.getElementById('infoEmail')\r\n    let infoStartDate = document.getElementById('infoStartDate')\r\n    let infoTime = document.getElementById('infoTime')\r\n    let memberLimit = document.getElementById('memberLimit')\r\n    let memberNum = document.getElementById('memberNum')\r\n    infoTitle.textContent = `行動主題：${obj?.title}`\r\n    infoHost.textContent = `開團人：${obj?.hostName}`\r\n    infoEmail.textContent = `開團人信箱：${obj?.email}`\r\n    infoStartDate.textContent = `活動日期：${startTimeObj.getFullYear()}/${\r\n      startTimeObj.getMonth() + 1\r\n    }/${startTimeObj.getDate()} ${weekdays[startTimeObj.getDay()]}`\r\n    infoTime.textContent = `活動時間：${startTimePart[0]}：${startTimePart[1]}~${endTimePart[0]}：${endTimePart[1]}`\r\n    memberLimit.textContent = `人數上限：${obj?.memberLimit} 人`\r\n    memberNum.textContent = `目前人數：${obj?.members.length} 人`\r\n    if (obj?.members.length < obj?.memberLimit) {\r\n      memberNum.textContent = `目前人數：${obj?.members.length} 人 `\r\n    } else {\r\n      memberNum.textContent = `目前人數：${obj?.members.length} 人 (報名已額滿)`\r\n    }\r\n  }\r\n\r\n  function showJoinForm() {\r\n    if (!props.uid) {\r\n      Swal.fire({\r\n        icon: 'warning',\r\n        title: '請先登入喔!',\r\n      })\r\n    } else {\r\n      let closePopup = document.getElementById('joinForm')\r\n      closePopup.style.display = 'block'\r\n    }\r\n  }\r\n  function showEventForm() {\r\n    if (!props.uid) {\r\n      Swal.fire({\r\n        icon: 'warning',\r\n        title: '請先登入喔!',\r\n      })\r\n    } else {\r\n      let closePopup = document.getElementById('eventForm')\r\n      closePopup.style.display = 'block'\r\n    }\r\n  }\r\n  console.log(allMarkers)\r\n  console.log(newMarker)\r\n  //是否招募已滿判斷\r\n  function Recruitment(obj) {\r\n    console.log(obj)\r\n    console.log(obj.marker.members)\r\n    console.log(obj.marker.members?.length)\r\n    console.log(obj.marker.memberLimit)\r\n    // useEffect(() => {\r\n    if (obj.marker.members?.length < obj.marker.memberLimit) {\r\n      console.log('1')\r\n      return (\r\n        <InfoWindow position={{ lat: selected1?.lat, lng: selected1?.lng }} onCloseClick={() => setSelected1(null)}>\r\n          <div>\r\n            <Button className={styles.openForm} variant=\"outline-danger\" onClick={showJoinForm}>\r\n              我要跟團\r\n            </Button>\r\n          </div>\r\n        </InfoWindow>\r\n      )\r\n    } else {\r\n      console.log('2')\r\n      return (\r\n        <InfoWindow position={{ lat: selected1?.lat, lng: selected1?.lng }} onCloseClick={() => setSelected1(null)}>\r\n          <div>\r\n            <h3>報名人數已額滿</h3>\r\n          </div>\r\n        </InfoWindow>\r\n      )\r\n    }\r\n    // }, [])\r\n  }\r\n\r\n  return (\r\n    <div className={styles.map}>\r\n      <GoogleMap\r\n        mapContainerStyle={mapContainerStyle}\r\n        zoom={8}\r\n        center={center}\r\n        options={options}\r\n        onClick={onMapClick}\r\n        // onLoad={onMapLoad}\r\n      >\r\n        {allMarkers.map((marker) => (\r\n          <Marker\r\n            key={marker?.time}\r\n            position={{ lat: marker.lat, lng: marker.lng }}\r\n            onClick={() => {\r\n              //清除\"我要開團\"icon及InfoBox\r\n              setNewMarker([])\r\n              setSelected2(null)\r\n              console.log(props.uid)\r\n              if (props.uid) {\r\n                //儲存這個點的經緯度到marker並show此事件的Data\r\n                setSelected1(marker)\r\n                ShowMarkerData(marker)\r\n                //關開團教學框，開跟團教學框\r\n                eventStep1.style.display = 'none'\r\n                eventStep2.style.display = 'block'\r\n                eventInfo.style.display = 'block'\r\n              }\r\n              // Recruitment(marker)\r\n            }}\r\n          />\r\n        ))}\r\n        {newMarker.map((marker) => (\r\n          <Marker\r\n            key={marker?.time}\r\n            position={{ lat: marker.lat, lng: marker.lng }}\r\n            icon={{\r\n              url: '/location(gray).png',\r\n              scaledSize: new window.google.maps.Size(50, 50),\r\n            }}\r\n            onClick={() => {\r\n              setSelected2(marker)\r\n              eventStep1.style.display = 'block'\r\n              eventStep2.style.display = 'none'\r\n              eventInfo.style.display = 'none'\r\n            }}\r\n          />\r\n        ))}\r\n        {selected1 ? <Recruitment marker={selected1} /> : null}\r\n\r\n        {selected2 ? (\r\n          <InfoWindow\r\n            position={{ lat: selected2.lat, lng: selected2.lng }}\r\n            onCloseClick={() => {\r\n              setSelected2(null)\r\n              setNewMarker([])\r\n            }}\r\n          >\r\n            <div>\r\n              <Button className={styles.openForm} variant=\"outline-secondary\" onClick={showEventForm}>\r\n                我要開團\r\n              </Button>\r\n            </div>\r\n          </InfoWindow>\r\n        ) : null}\r\n      </GoogleMap>\r\n      <JoinForm event={selected1} uid={props.uid} />\r\n      <EventForm location={newMarker} uid={props.uid} events={events} setEvents={setEvents} />\r\n    </div>\r\n  )\r\n}\r\n","C:\\Users\\hn156\\Desktop\\AppWorks\\personal project\\Pick Up\\src\\components\\EventPage.js",[],"C:\\Users\\hn156\\Desktop\\AppWorks\\personal project\\Pick Up\\src\\components\\MapStyles.js",[],"C:\\Users\\hn156\\Desktop\\AppWorks\\personal project\\Pick Up\\src\\reportWebVitals.js",[],"C:\\Users\\hn156\\Desktop\\AppWorks\\personal project\\Pick Up\\src\\components\\HomePage.js",[],"C:\\Users\\hn156\\Desktop\\AppWorks\\personal project\\Pick Up\\src\\components\\TimeSelector.js",[],"C:\\Users\\hn156\\Desktop\\AppWorks\\personal project\\Pick Up\\src\\components\\ProfilePage.js",[],"C:\\Users\\hn156\\Desktop\\AppWorks\\personal project\\Pick Up\\src\\components\\ResultForm.js",[],"C:\\Users\\hn156\\Desktop\\AppWorks\\personal project\\Pick Up\\src\\components\\DatePickerPage.js",[],["72","73"],"C:\\Users\\hn156\\Desktop\\AppWorks\\personal project\\Pick Up\\src\\components\\EventNPC.js",["74"],"import React, { useEffect } from 'react'\r\nimport styles from '../scss/EventPage.module.scss'\r\n\r\n//alert樣式\r\nimport Swal from 'sweetalert2'\r\n\r\nexport function EventNPC(props) {\r\n  console.log(props)\r\n  // console.log(props.uid)\r\n  useEffect(() => {\r\n    let mapContain = document.getElementById('mapContain')\r\n    let ifBeHost = document.getElementById('ifBeHost')\r\n    let eventStep1 = document.getElementById('eventStep1')\r\n    let ifBeMember = document.getElementById('ifBeMember')\r\n    let eventStep2 = document.getElementById('eventStep2')\r\n    let eventInfo = document.getElementById('eventInfo')\r\n    mapContain?.addEventListener('click', () => {\r\n      if (!props.uid) {\r\n        Swal.fire({\r\n          icon: 'warning',\r\n          title: '請先登入喔!',\r\n        })\r\n      }\r\n    })\r\n\r\n    ifBeHost?.addEventListener('click', () => {\r\n      eventStep1.style.display = 'block'\r\n    })\r\n    ifBeMember?.addEventListener('click', () => {\r\n      eventStep1.style.display = 'none'\r\n    })\r\n    ifBeMember?.addEventListener('click', () => {\r\n      eventStep2.style.display = 'block'\r\n      eventInfo.style.display = 'block'\r\n    })\r\n    ifBeHost?.addEventListener('click', () => {\r\n      eventStep2.style.display = 'none'\r\n      eventInfo.style.display = 'none'\r\n    })\r\n  }, [])\r\n  return (\r\n    <div className={styles.eventHostBG}>\r\n      <div className={styles.eventHost}>\r\n        <br />\r\n        <h3 className={styles.ifBeHost} id=\"ifBeHost\">\r\n          想要開團\r\n        </h3>\r\n        <br />\r\n        <div className={styles.eventStep1} id=\"eventStep1\">\r\n          <h3>1.在地圖上點擊地點設立座標</h3>\r\n          <h3>2.點擊該座標</h3>\r\n          <h3>3.點擊\"我要開團\"</h3>\r\n          <h3>4.填好完整資料並點擊開團按鈕</h3>\r\n        </div>\r\n      </div>\r\n\r\n      <div className={styles.eventJoin}>\r\n        <br />\r\n        <h3 className={styles.ifBeMember} id=\"ifBeMember\">\r\n          想要跟團\r\n        </h3>\r\n        <br />\r\n        <div className={styles.eventStep2} id=\"eventStep2\">\r\n          <h3>1.點擊地圖上想跟團的座標</h3>\r\n          <h3>2.點擊\"我想跟團\"</h3>\r\n          <h3>3.填好完整資料並點擊跟團按鈕</h3>\r\n        </div>\r\n        <div className={styles.eventInfo} id=\"eventInfo\">\r\n          <p id=\"infoTitle\">行動主題：</p>\r\n          <p id=\"infoHost\">開團人：</p>\r\n          <p id=\"infoEmail\">開團人信箱：</p>\r\n          <p id=\"infoStartDate\">活動日期：</p>\r\n          <p id=\"infoTime\">活動時間：</p>\r\n          <p id=\"memberLimit\">人數上限：</p>\r\n          <p id=\"memberNum\">目前人數：</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n",{"ruleId":"75","replacedBy":"76"},{"ruleId":"77","replacedBy":"78"},{"ruleId":"79","severity":1,"message":"80","line":1,"column":17,"nodeType":"81","messageId":"82","endLine":1,"endColumn":26},{"ruleId":"79","severity":1,"message":"83","line":2,"column":10,"nodeType":"81","messageId":"82","endLine":2,"endColumn":20},{"ruleId":"84","severity":1,"message":"85","line":96,"column":6,"nodeType":"86","endLine":96,"endColumn":8,"suggestions":"87"},{"ruleId":"75","replacedBy":"88"},{"ruleId":"77","replacedBy":"89"},{"ruleId":"84","severity":1,"message":"90","line":40,"column":6,"nodeType":"86","endLine":40,"endColumn":8,"suggestions":"91"},"no-native-reassign",["92"],"no-negated-in-lhs",["93"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'useHistory' is defined but never used.","react-hooks/exhaustive-deps","React Hook useCallback has a missing dependency: 'props.uid'. Either include it or remove the dependency array.","ArrayExpression",["94"],["92"],["93"],"React Hook useEffect has a missing dependency: 'props.uid'. Either include it or remove the dependency array.",["95"],"no-global-assign","no-unsafe-negation",{"desc":"96","fix":"97"},{"desc":"96","fix":"98"},"Update the dependencies array to be: [props.uid]",{"range":"99","text":"100"},{"range":"101","text":"100"},[2747,2749],"[props.uid]",[1270,1272]]